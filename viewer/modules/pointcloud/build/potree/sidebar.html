<style>
	.tool-button-container {}

	.tool-icon-expanded {
		display: block;
		width: 300px;
		float: left;
		padding: 5px;
		margin-left: -5px;
	}

	.tool-icon-image {
		float: left;
	}

	.tool-icon-image:hover {}

	.tool-icon-label {
		float: left;
		padding-left: 15px;
	}
</style>
<script>
	async function fetchTitleAndUpdate() {
		try {
			const qValue = getQueryParameter('q');
			const response = await fetch(``);

			if (response.ok) {
				const data = await response.json();
				const title = data.results[0].title;
				const points_optimized = data.results[0].points_optimized;
				const points_full_resolution = data.results[0].points_full_resolution;
				const description = data.results[0].description;
				const urlOptimized = data.results[0].url_optimized;

				if (urlOptimized) {
					const downloadButton = document.getElementById("download-button");
					downloadButton.classList.add("theme-button");
					downloadButton.style.display = 'block'; // show the download button
					downloadButton.setAttribute('href', urlOptimized);
					downloadButton.setAttribute('download', '');
				} else {
					// Hide the button
					const downloadButton = document.getElementById("download-button");
					downloadButton.style.display = 'none';
					console.error('url_optimized is null or undefined.');
				}

				// Update the title
				if (document.getElementById("backend-info")) {
					document.getElementById("backend-info").textContent = title;
				} else {
					console.error('Element with id "backend-info" not found.');
				}

				// Update points optimized
				if (document.getElementById("points-optimized-info")) {
					document.getElementById("points-optimized-info").textContent = points_optimized;
				} else {
					console.error('Element with id "triangles-optimized-info" not found.');
				}

				// Update points full resolution
				if (document.getElementById("points-full-res-info")) {
					document.getElementById("points-full-res-info").textContent = points_full_resolution;
				} else {
					console.error('Element with id "triangles-full-res-info" not found.');
				}

				// Update description
				if (document.getElementById("description")) {
					document.getElementById("description").innerHTML = description;
				} else {
					console.error('Element with id "triangles-full-res-info" not found.');
				}

			} else {
				console.error('Failed to fetch data:', response.status, response.statusText);
			}
		} catch (error) {
			console.error('An error occurred:', error);
		}
	}

	// fetchTitleAndUpdate();

	function getQueryParameter(paramName) {
		const urlParams = new URLSearchParams(window.location.search);
		return urlParams.get(paramName);
	}

	function AppearanceFunction() {
		var the_looks = document.getElementById("the_looks");
		var the_tools = document.getElementById("the_tools");
		var the_abouts = document.getElementById("the_abouts");
		var looks_menu = document.getElementById("looks_menu");
		var tools_menu = document.getElementById("tools_menu");
		var about_menu = document.getElementById("about_menu");
		the_looks.style.display = "block";
		the_tools.style.display = "none";
		the_abouts.style.display = "none";
		tools_menu.style.color = "white";
		about_menu.style.color = "white";
		looks_menu.style.color = "var(--selected)";
	}

	function ToolsFunction() {
		var the_looks = document.getElementById("the_looks");
		var the_tools = document.getElementById("the_tools");
		var the_abouts = document.getElementById("the_abouts");
		var looks_menu = document.getElementById("looks_menu");
		var tools_menu = document.getElementById("tools_menu");
		var about_menu = document.getElementById("about_menu");
		the_looks.style.display = "none";
		the_abouts.style.display = "none";
		the_tools.style.display = "block";
		looks_menu.style.color = "white";
		tools_menu.style.color = "var(--selected)";
		about_menu.style.color = "white";
	}

	function AboutFunction() {
		var the_looks = document.getElementById("the_looks");
		var the_tools = document.getElementById("the_tools");
		var the_abouts = document.getElementById("the_abouts");
		var looks_menu = document.getElementById("looks_menu");
		var tools_menu = document.getElementById("tools_menu");
		var about_menu = document.getElementById("about_menu");
		the_looks.style.display = "none";
		the_abouts.style.display = "block";
		the_tools.style.display = "none";
		looks_menu.style.color = "white";
		tools_menu.style.color = "white";
		about_menu.style.color = "var(--selected)";
	}

</script>

<div id="sidebar_root" class="">
	<div id="sidebar_header" style="display:none;">
		<!-- <span id="potree_branding" class="potree_sidebar_brand">
			<a href="http://potree.org" target="_blank">potree.org</a> 
			<span style="margin: 0px 3px; color: #9AA1A4"> - </span> 
			<a href="https://github.com/potree/potree" target="_blank">github</a>
			<span style="margin: 0px 3px; color: #9AA1A4"> - </span> 
			<a href="https://twitter.com/m_schuetz" target="_blank">twitter</a>
			<span style="flex-grow: 1"></span>
			<span id="potree_version_number" style="color: #9AA1A4; font-size: 80%; font-weight: 100"></span>
		</span>
		<div id="potree_languages" style="font-family:arial;"></div> -->
	</div>
	<div>

		<div id="potree_menu">


			<!-- APPEARANCE -->
			<div class="switch" style="display:none;">
				<!-- <div id="about_menu" style="color:var(--selected);" class="switch-button" onclick="AboutFunction()">
					About
				</div>
				<div id="looks_menu" class="switch-button" onclick="AppearanceFunction()">
					Appearance
				</div> -->
				<!-- <div id="tools_menu" class="switch-button" onclick="ToolsFunction()">
					Tools
				</div> -->

			</div>
			<div id="the_looks" style="display:none;">
				<ul class="pv-menu-list" style="line-height:1.8;">

					<li>
						<!-- <selectgroup id="splat_quality_options">
							<option id="splat_quality_options_standard" value="standard">Standard</option>
							<option id="splat_quality_options_hq" value="hq">High</option>
						</selectgroup> -->
						<!-- <li><span>Node size:</span> <span id="lblMinNodeSize"></span>
						<div id="sldMinNodeSize"></div>
					</li> -->

						<!-- <li>
						<span>Point Size:</span> <span id="lblPointSize"></span>
						<div id="sldPointSize"></div>
					</li> -->


						<!-- <li><span>Max points:</span> <span id="lblPointBudget"></span>
						<div id="sldPointBudget"></div>
					</li> -->


						<!-- <li><span data-i18n="appearance.edl_opacity"></span>: <span id="lblEDLOpacity"></span><div id="sldEDLOpacity"></div></li> -->

						<!-- <div class="divider"><span>Background</span></div>

				<li>
					<selectgroup id="background_options">
						<option id="background_options_skybox" value="skybox">Skybox</option>
						<option id="background_options_gradient" value="gradient">Gradient</option>
						<option id="background_options_black" value="black">Black</option>
						<option id="background_options_white" value="white">White</option>
						<option id="background_options_none" value="null">None</option>
					</selectgroup>
				</li> -->

						<!-- <div class="divider"><span>Other</span></div> -->

						<!-- <li><label><input id="show_bounding_box" type="checkbox" /><span data-i18n="appearance.box"></span></label></li>
				<li><label><input id="set_freeze" type="checkbox" /><span data-i18n="appearance.freeze"></span></label></li> -->
				</ul>

			</div>

			<!-- TOOLS -->



			<div id="the_tools" style="display:block;">

				<div class="pv-menu-list" style="line-height:1.8;">

					<h2 style="width:100%;">Camera Settings</h2>

					<div id="navigation"></div>

					<li><span>Field of view:</span> <span id="lblFOV"></span>
						<div id="sldFOV"></div>
					</li>

					<h2>Eye-Dome-Lighting</h2>

					<li><label><input type="checkbox" id="chkEDLEnabled" style="display:none;" /></label></li>
					<li><span>Radius:</span> <span id="lblEDLRadius"></span>
						<div id="sldEDLRadius"></div>
					</li>
					<li><span>Strength:</span> <span id="lblEDLStrength"></span>
						<div id="sldEDLStrength"></div>
					</li>

					<!--  Orentation tools -->
					<h2>Orientation</h2>
					<div class="orientation-widget">
						<div id="orientation" class="side-widget"></div>
					</div>


					<h2 style="width:100%;">Measurement</h2>

					<div id="toolsExtra" class="side-widget" style="float:left;"></div>

					<!-- 	<li>
				<selectgroup id="measurement_options_show">
					<option id="measurement_options_show_yes" value="SHOW">Show</option>
					<option id="measurement_options_show_no" value="HIDE">Hide</option>
				</selectgroup>
			</li> -->

					<h2 style="width:100%;">Clipping</h2>

					<div class="side-widget clippings">
						<li id="clipping_tools"></li>

						<li>
							<selectgroup id="cliptask_options" style="line-height: 40px;">
								<option id="cliptask_options_none" value="NONE">None</option>
								<option id="cliptask_options_highlight" value="HIGHLIGHT">Highlight</option>
								<option id="cliptask_options_show_inside" value="SHOW_INSIDE">Inside</option>
								<option id="cliptask_options_show_outside" value="SHOW_OUTSIDE">Outside</option>
							</selectgroup>
						</li>


						<!-- <li>
				<selectgroup id="clipmethod_options">
					<option id="clipmethod_options_any" value="INSIDE_ANY">Inside Any</option>
					<option id="clipmethod_options_all" value="INSIDE_ALL">Inside All</option>
				</selectgroup>
			</li> -->
					</div>
					<!-- <li><span data-i18n="appearance.move_speed">Move speed</span>: <span id="lblMoveSpeed"></span><div id="sldMoveSpeed"></div></li> 
				</div>-->


					<!-- SCENE -->
					<h3 id="menu_scene" style="display:none;"><span data-i18n="tb.scene_opt"></span></h3>

					<div class="pv-menu-list" style="padding-bottom:50px; margin-top:-20px;">
						<h2>Properties</h2>

						<div id="scene_object_properties"></div>

						<div id="scene_export"></div>

						<div class="divider"><span>Objects</span></div>

						<div id="scene_objects"></div>


					</div>

					<!-- Classification -->
					<!-- <h3 id="menu_filters""><span data-i18n="tb.filters_opt"></span></h3>
		<div>

			<div class="divider"><span>Classification</span></div>

			<ul id="classificationList" class="pv-menu-list"></ul> -->

					<!-- <div class="divider"><span>Returns</span></div> -->

					<div id="return_filter_panel" style="display:none;">
						<ul class="pv-menu-list">

							<li><span data-i18n="filters.return_number"></span>: <span id="lblReturnNumber"></span>
								<div id="sldReturnNumber"></div>
							</li>
							<li><span data-i18n="filters.number_of_returns"></span>: <span
									id="lblNumberOfReturns"></span>
								<div id="sldNumberOfReturns"></div>
							</li>

						</ul>
					</div>

					<!-- <div class="divider"><span>Point Source ID</span></div> -->

					<div style="display:none">
						<ul class="pv-menu-list" id="pointsourceid_filter_panel">

						</ul>
					</div>

					<!-- <div class="divider"><span>GPS Time</span></div>

			<div id="gpstime_filter_panel">

				<ul class="pv-menu-list">
					<div id="gpstime_multilevel_range_container">

						<li>
							<span style="display: flex">
								<span>Time: </span>
								<input id="txtGpsTime" type="text" style="margin: auto 10px"/>
								<input id="btnFindGpsTime" type="button" value="find" />
							</span>
						</li>

					</div>

				</ul>

			</div> -->
				</div>
			</div>

			<!-- ABOUT -->

			<div id="the_abouts" style="display:none">
				<div class="pv-menu-list" style="line-height:1.8;">
					<h2>Metadata</h2>

					<div class="flex-container" style="
				display: flex;
				margin-bottom: 10px;
				gap: 5px;
			">
						Title: <li id="backend-info" class="metadata">Title.</li>
					</div>
					<div class="flex-container" style="
				display: flex;
				margin-bottom: 10px;
				gap: 5px;
			">
						Points (optimised): <li id="points-optimized-info" class="metadata">Triangular data optimized.
						</li>
					</div>
					<div class="flex-container" style="
				display: flex;
				margin-bottom: 10px;
				gap: 5px;
			">
						Points (high quality): <li id="points-full-res-info" class="metadata">Triangular data full
							resolution.</li>
					</div>
					<div class="flex-container" style="
				display: flex;
				margin-bottom: 10px;
				flex-direction: column;
			">
						<li id="description" class="description">Description.</li>
					</div>

					<a id="download-button" style="display: none;">Download Optimized Mesh</a>

					<h2>The viewer</h2>
					<li style="line-height:1.2;">The Point Cloud Visualisation Tool is built with <a
							href="http://potree.org" target="_blank">Potree</a>, a viewer for large point cloud / LIDAR
						data sets, developed at the
						Vienna University of Technology.
						<a href="https://github.com/potree/potree" target="_blank">(github)</a>
					</li>
					<li><b>Author: </b><a href="mailto:mschuetz@potree.org">Markus Sch&uuml;tz</a></li>
					<li><b>License: </b><a target="_blank"
							href="https://github.com/potree/potree/blob/develop/LICENSE/">FreeBSD (2-clause BSD)</a>
					</li>
					<li><b>Dependency Licenses:</b> <a target="_blank"
							href="https://github.com/potree/potree/tree/develop/libs/">See github</a></li>


				</div>
			</div>

		</div>

		<div>

		</div>
	</div>

</div>